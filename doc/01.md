# TDD 实现命令行参数解析的功能。
这个练习源自 Robert C. Martin 的 *Clean Code* 第十四章的一个例子。需求描述如下：
````
我们中的大多数人都不得不时不时地解析一下命令行参数。如果我们没有一个方便的工具，
那么我们就简单地处理一下传入 main 函数的字符串数组。有很多开源工具可以完成这个任务，
但它们可能并不能完全满足我们的要求。所以我们再写一个吧。　

传递给程序的参数由标志和值组成。标志应该是一个字符，前面有一个减号。
每个标志都应该有零个或多个与之相关的值。
例如：　
-l -p 8080 -d /usr/logs　

“l”（日志）没有相关的值，它是一个布尔标志，如果存在则为 true，不存在则为 false。
“p”（端口）有一个整数值，“d”（目录）有一个字符串值。标志后面如果存在多个值，则该标志表示一个列表：　

-g this is a list -d 1 2 -3 5　

"g"表示一个字符串列表[“this”, “is”, “a”, “list”]，“d"标志表示一个整数列表[1, 2, -3, 5]。　
如果参数中没有指定某个标志，那么解析器应该指定一个默认值。
例如，false 代表布尔值，0 代表数字，”"代表字符串，[]代表列表。
如果给出的参数与模式不匹配，重要的是给出一个好的错误信息，准确地解释什么是错误的。　

确保你的代码是可扩展的，即如何增加新的数值类型是直接和明显的。
````

任务列表是一个随代码结构（重构）、测试策略（在哪个范围内测试）、代码实现情况（存在哪些缺陷）等因素而动态调整的列表。
**它的内容体现了我们最新的认知，它的变化记录了我们认知改变的过程。**

## 小结

### TDD 这三个特点

1. 将要完成的功能分解成一系列任务，再将任务转化为测试，以测试体现研发进度，将整个开发过程变成有序的流程，以减少无效劳动。
2. 在修改代码的时候，随时执行测试以验证功能，及时发现错误，降低发现、定位错误的成本，降低修改错误的难度。
3. 时刻感受到认知的提升，增强自信降低恐惧。在针对列表参数使用任务分解法时，你明显可以感觉到，我们无论是对需求的把握性，还是对最终实现的可预见性，都有了大幅度的提升。甚至，如果更进一步要求，我们可以较有把握地评估（误差在
   15% 以内）实现列表参数解析需要多长时间。这就是我们认知提升的具体体现。

**将这样的工作状态称为“职业程序工作状态”：有序、可控、自信。**